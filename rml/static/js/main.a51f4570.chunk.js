(this["webpackJsonpyarrrml-editor"]=this["webpackJsonpyarrrml-editor"]||[]).push([[0],{124:function(_,e,t){"use strict";t.d(e,"a",(function(){return s})),t.d(e,"b",(function(){return p}));var a=t(8),n=t(3),r=t.n(n),c=t(54),u=t(219),o=t(220),l=function(_){return new Promise((function(e){var t=new u,a=t.convert(_),n={rr:"http://www.w3.org/ns/r2rml#",rml:"http://semweb.mmlab.be/ns/rml#",xsd:"http://www.w3.org/2001/XMLSchema#",schema:"http://schema.org/",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",fnml:"http://semweb.mmlab.be/ns/fnml#",fno:"http://w3id.org/function/ontology#",mex:"http://mapping.example.com/"};n=Object.assign({},n,t.getPrefixes());var r=new c.Writer({prefixes:n});r.addQuads(a),r.end((function(_,t){e(t)}))}))},s=function(_,e,t){return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",o.parseFileLive(_,{input:e},t));case 1:case"end":return a.stop()}}))},i=function(_){var e=_.replace(/((?:parameters|pms): *\[)([\w@^./$()"' ,[\]|=:]+)(\])/g,(function(){for(var _=arguments.length,e=new Array(_),t=0;t<_;t++)e[t]=arguments[t];var n=e,r=Object(a.a)(n,4),c=r[1],u=r[2],o=r[3],l=u.split(",").map((function(_,e){return"[schema:str".concat(e,", ").concat(_.trim(),"]")})).join(", ");return c+l+o}));return e=e.replace(/join: *\[ *"?([\w@^./$:\-*, ')()]+)"? *, *"?([\w@^./$:\-*, '()]+)"? *\]/g,'condition:{function:equal,parameters:[[str1,"$($1)"],[str2,"$($2)"]]}')},E={"(":"\\$LBR",")":"\\$RBR","{":"\\$LCB","}":"\\$RCB"},m=function(_){for(var e=0,t="",a=0;a<_.length;a+=1){var n=_[a];if(e<0)throw new Error("failed parsing brackets");if(0===e)switch(n){case"$":"("===_[a+1]?(e+=1,a+=1,t+="$("):t+=n;break;case"(":case")":default:t+=n}else switch(n){case"(":e+=1,t+="$LBR";break;case")":t+=0===(e-=1)?")":"$RBR";break;default:t+=n}}return t},p=function(_){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i(_),console.log(e),e=m(e),t.next=5,r.a.awrap(l(e));case 5:return e=t.sent,n=e,e=Object.entries(E).reduce((function(_,e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return _.replace(new RegExp(r,"g"),n)}),n),t.abrupt("return",e);case 8:case"end":return t.stop()}var n}))}},218:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_thiger_git_rml_editor_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_home_thiger_git_rml_editor_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_home_thiger_git_rml_editor_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_home_thiger_git_rml_editor_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),react_ace__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(55),react_ace__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react_ace__WEBPACK_IMPORTED_MODULE_3__),brace_ext_searchbox__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(236),brace_ext_searchbox__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(brace_ext_searchbox__WEBPACK_IMPORTED_MODULE_4__),brace_mode_yaml__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(237),brace_mode_yaml__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(brace_mode_yaml__WEBPACK_IMPORTED_MODULE_5__),brace_mode_turtle__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(238),brace_mode_turtle__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(brace_mode_turtle__WEBPACK_IMPORTED_MODULE_6__),brace_mode_xml__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(239),brace_mode_xml__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(brace_mode_xml__WEBPACK_IMPORTED_MODULE_7__),brace_mode_json__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(241),brace_mode_json__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(brace_mode_json__WEBPACK_IMPORTED_MODULE_8__),brace_mode_javascript__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(243),brace_mode_javascript__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(brace_mode_javascript__WEBPACK_IMPORTED_MODULE_9__),brace_theme_dracula__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(245),brace_theme_dracula__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(brace_theme_dracula__WEBPACK_IMPORTED_MODULE_10__),_App_css__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(246),_App_css__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_App_css__WEBPACK_IMPORTED_MODULE_11__),_rmlmapper__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(124),_util__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(221),initialMapping="prefixes:\n  schema: \"http://schema.org/\"\n  myfunc: \"http://myfunc.com/\"\nmappings:\n  person:\n    sources:\n      - ['input~jsonpath', '$.persons[*]']\n    s: http://example.com/$(firstname)\n    po:\n      - [a, schema:Person]\n      - [schema:name, $(firstname)]\n      - [schema:language, $(speaks.*)]\n",initialInput='{\n  "persons": [\n      {\n          "firstname": "John",\n          "lastname": "Doe",\n          "speaks": [\n              "de",\n              "en"\n          ]\n      },\n      {\n          "firstname": "Jane",\n          "lastname": "Smith",\n          "speaks": [\n              "fr",\n              "es"\n          ]\n      }\n  ]\n}',initialFunctions="(() => {\n  // define your function namespace here:\n  const namespace = 'http://myfunc.com/';\n  \n  // your functions: (input is an array)\n  const toUpperCase = ([str]) => {\n    return str.toString().toUpperCase();\n  };\n  \n\n  // array of all functions you want to export\n  const functionToExport = [toUpperCase];\n\n  return functionToExport.reduce((acc, cur) => {acc[namespace + cur.name] = cur; return acc;}, {});\n})();\n",App=function App(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(initialMapping),_useState2=Object(_home_thiger_git_rml_editor_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState,2),mapping=_useState2[0],setMapping=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(initialInput),_useState4=Object(_home_thiger_git_rml_editor_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState3,2),input=_useState4[0],setInput=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(initialFunctions),_useState6=Object(_home_thiger_git_rml_editor_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState5,2),functions=_useState6[0],setFunctions=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(""),_useState8=Object(_home_thiger_git_rml_editor_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState7,2),output=_useState8[0],setOutput=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)("json"),_useState10=Object(_home_thiger_git_rml_editor_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState9,2),inputType=_useState10[0],setInputType=_useState10[1],_useState11=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)("json"),_useState12=Object(_home_thiger_git_rml_editor_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState11,2),outputType=_useState12[0],setOutputType=_useState12[1],_useState13=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)("yaml"),_useState14=Object(_home_thiger_git_rml_editor_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState13,2),rmlType=_useState14[0],setRmlType=_useState14[1],_useState15=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),_useState16=Object(_home_thiger_git_rml_editor_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState15,2),runOnChange=_useState16[0],setRunOnChange=_useState16[1],_useState17=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),_useState18=Object(_home_thiger_git_rml_editor_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState17,2),showFunctions=_useState18[0],setShowFunctions=_useState18[1],downloadRmlStr="",runMapping=function runMapping(){var mappingStr,result;return _home_thiger_git_rml_editor_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.async((function runMapping$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(console.time("time"),_context.prev=1,mappingStr=mapping,"yaml"!==rmlType){_context.next=8;break}return _context.next=6,_home_thiger_git_rml_editor_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.awrap(Object(_rmlmapper__WEBPACK_IMPORTED_MODULE_12__.b)(mappingStr));case 6:mappingStr=_context.sent,console.log(mappingStr);case 8:return downloadRmlStr=mappingStr,_context.next=11,_home_thiger_git_rml_editor_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.awrap(Object(_rmlmapper__WEBPACK_IMPORTED_MODULE_12__.a)(mappingStr,input,{toRDF:"turtle"===outputType,removeNameSpace:{xmlns:"http://interface.deskline.net/DSI/XSD"},replace:!0,compress:{"@vocab":"http://schema.org/",booking:"http://booking-monitor.tirol.kg/vocab/"},functions:eval(functions)}));case 11:result=_context.sent,setOutput("turtle"===outputType?result:JSON.stringify(result,null,2)),_context.next=19;break;case 15:_context.prev=15,_context.t0=_context.catch(1),console.log(_context.t0),setOutput(_context.t0.toString());case 19:console.timeEnd("time");case 20:case"end":return _context.stop()}}),null,null,[[1,15]])},saveRML=function(){Object(_util__WEBPACK_IMPORTED_MODULE_13__.a)(downloadRmlStr,"ttl","mapping_rml.ttl")};runOnChange&&runMapping();var click=function(){return runMapping()};return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"App"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("header",{className:"App-header"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h1",null,"Welcome to RMHell!!"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{className:"button",onClick:click},"RUN"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"grid"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"width-auto"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h3",null,"Yarrml / RML-ttl"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_ace__WEBPACK_IMPORTED_MODULE_3___default.a,{fontSize:14,mode:rmlType,theme:"dracula",value:mapping,onChange:function(_){return setMapping(_)},name:"yarrrml",editorProps:{$blockScrolling:!0},showPrintMargin:!1,width:"auto"})),showFunctions&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"width-auto"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h3",null,"JS Functions"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_ace__WEBPACK_IMPORTED_MODULE_3___default.a,{fontSize:14,mode:"javascript",theme:"dracula",value:functions,onChange:function(_){return setFunctions(_)},name:"functions",editorProps:{$blockScrolling:!0},showPrintMargin:!1,width:"auto"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"width-auto"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h3",null,"Input(",".".concat(inputType),")"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_ace__WEBPACK_IMPORTED_MODULE_3___default.a,{fontSize:14,mode:inputType,theme:"dracula",value:input,onChange:function(_){return setInput(_)},name:"input",width:"auto",editorProps:{$blockScrolling:!0},showPrintMargin:!1})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"width-auto",style:showFunctions?{}:{gridColumn:"1 / 3"}},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h3",null,"Output"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_ace__WEBPACK_IMPORTED_MODULE_3___default.a,{fontSize:14,mode:outputType,theme:"dracula",value:output,name:"output",editorProps:{$blockScrolling:!0},width:"auto",readOnly:!0,showPrintMargin:!1})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"width-auto",style:{gridColumn:"1 / 3"}},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h3",null,"Settings"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{className:"marginRight"},"RML type:",react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("select",{value:rmlType,onChange:function(_){return setRmlType(_.target.value)}},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("option",{value:"yaml"},"Yarrrml"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("option",{value:"turtle"},"RML-turtle"))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{className:"marginRight"},"Input type:",react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("select",{value:inputType,onChange:function(_){return setInputType(_.target.value)}},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("option",{value:"json"},"JSON"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("option",{value:"xml"},"XML"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("option",{value:"text"},"CSV"))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{className:"marginRight"},"Output type:",react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("select",{value:outputType,onChange:function(_){return setOutputType(_.target.value)}},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("option",{value:"json"},"JSON-LD"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("option",{value:"turtle"},"N-Tripples"))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{className:"marginRight"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{type:"checkbox",name:"runMapperOnChange",checked:showFunctions,onChange:function(_){return setShowFunctions(!showFunctions)}})," Show functions"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{type:"checkbox",name:"runMapperOnChange",checked:runOnChange,onChange:function(_){return setRunOnChange(!runOnChange)}})," Run mapper on change",react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{className:"button small",onClick:saveRML},"Download RML"))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"footer"})))};__webpack_exports__.a=App},221:function(_,e,t){"use strict";t.d(e,"a",(function(){return a}));var a=function(_,e,t){var a=new Blob([_],{type:e}),n=document.createElement("a");n.download=t,n.href=URL.createObjectURL(a),n.dataset.downloadurl=[e,n.download,n.href].join(":"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout((function(){URL.revokeObjectURL(n.href)}),1500)}},222:function(_,e,t){_.exports=t(521)},227:function(_,e,t){},246:function(_,e,t){},252:function(_,e){},254:function(_,e){},286:function(_,e){},293:function(_,e){},306:function(_,e){},307:function(_,e){},337:function(_,e){},521:function(_,e,t){"use strict";t.r(e);var a=t(0),n=t.n(a),r=t(217),c=t.n(r),u=(t(227),t(218));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(u.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(_){_.unregister()}))}},[[222,1,2]]]);
//# sourceMappingURL=main.a51f4570.chunk.js.map