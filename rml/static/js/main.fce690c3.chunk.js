(this["webpackJsonpyarrrml-editor"]=this["webpackJsonpyarrrml-editor"]||[]).push([[0],{1012:function(_,e,t){"use strict";t.r(e);t(15);var n=t(253),r=t.n(n),a=(t(264),t(254));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=t(3);r.a.render(Object(c.jsx)(a.a,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(_){_.unregister()}))},102:function(_,e,t){"use strict";t.d(e,"b",(function(){return p})),t.d(e,"a",(function(){return d}));var n=t(4),r=t.n(n),a=t(52),c=t(13),s=t(146),u=t(69),i=t(255),o=t(257),l=function(_){return new Promise((function(e){var t=new i,n=t.convert(_),r={rr:"http://www.w3.org/ns/r2rml#",rml:"http://semweb.mmlab.be/ns/rml#",xsd:"http://www.w3.org/2001/XMLSchema#",schema:"http://schema.org/",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",fnml:"http://semweb.mmlab.be/ns/fnml#",fno:"http://w3id.org/function/ontology#",mex:"http://mapping.example.com/"};r=Object(s.a)(Object(s.a)({},r),t.getPrefixes());var a=new u.a({prefixes:r});a.addQuads(n),a.end((function(_,t){e(t)}))}))},E=function(_){var e=_.replace(/((?:parameters|pms): *\[)([\w@^./$()*"' ,[\]|=]+)(\])/g,(function(){for(var _=arguments.length,e=new Array(_),t=0;t<_;t++)e[t]=arguments[t];var n=e,r=Object(c.a)(n,4),a=r[1],s=r[2],u=r[3],i=s.split(",").map((function(_,e){return"[schema:str".concat(e,", ").concat(_.trim(),"]")})).join(", ");return a+i+u}));return e=e.replace(/join: *\[ *"?([\w@^./$:\-*, '()]+)"? *, *"?([\w@^./$:\-*, '()]+)"? *\]/g,'condition:{function:equal,parameters:[[str1,"$($1)"],[str2,"$($2)"]]}')},O={"(":"\\$LBR",")":"\\$RBR","{":"\\$LCB","}":"\\$RCB"},m=function(_){for(var e=0,t="",n=0;n<_.length;n+=1){var r=_[n];if(e<0)throw new Error("failed parsing brackets");if(0===e)switch(r){case"$":"("===_[n+1]?(e+=1,n+=1,t+="$("):t+=r;break;case"(":case")":default:t+=r}else switch(r){case"(":e+=1,t+="$LBR";break;case")":t+=0===(e-=1)?")":"$RBR";break;default:t+=r}}return t},p=function(){var _=Object(a.a)(r.a.mark((function _(e){var t;return r.a.wrap((function(_){for(;;)switch(_.prev=_.next){case 0:return t=E(e),t=m(t),_.next=4,l(t);case 4:return t=_.sent,n=t,t=Object.entries(O).reduce((function(_,e){var t=Object(c.a)(e,2),n=t[0],r=t[1];return _.replace(new RegExp(r,"g"),n)}),n),_.abrupt("return",t);case 7:case"end":return _.stop()}var n}),_)})));return function(e){return _.apply(this,arguments)}}(),d=function(){var _=Object(a.a)(r.a.mark((function _(e,t,n){return r.a.wrap((function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",o.parseFileLive(e,{input:t},n));case 1:case"end":return _.stop()}}),_)})));return function(e,t,n){return _.apply(this,arguments)}}()},254:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_thibault_git_rml_editor_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_home_thibault_git_rml_editor_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_home_thibault_git_rml_editor_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_home_thibault_git_rml_editor_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(52),_home_thibault_git_rml_editor_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(15),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),react_ace__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(72),react_ace__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_ace__WEBPACK_IMPORTED_MODULE_4__),ace_builds_webpack_resolver__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(273),ace_builds_webpack_resolver__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(ace_builds_webpack_resolver__WEBPACK_IMPORTED_MODULE_5__),ace_builds_src_noconflict_ext_searchbox__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(688),ace_builds_src_noconflict_ext_searchbox__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(ace_builds_src_noconflict_ext_searchbox__WEBPACK_IMPORTED_MODULE_6__),ace_builds_src_noconflict_mode_javascript__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(689),ace_builds_src_noconflict_mode_javascript__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(ace_builds_src_noconflict_mode_javascript__WEBPACK_IMPORTED_MODULE_7__),ace_builds_src_noconflict_mode_json__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(690),ace_builds_src_noconflict_mode_json__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(ace_builds_src_noconflict_mode_json__WEBPACK_IMPORTED_MODULE_8__),ace_builds_src_noconflict_mode_yaml__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(691),ace_builds_src_noconflict_mode_yaml__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(ace_builds_src_noconflict_mode_yaml__WEBPACK_IMPORTED_MODULE_9__),ace_builds_src_noconflict_mode_turtle__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(692),ace_builds_src_noconflict_mode_turtle__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(ace_builds_src_noconflict_mode_turtle__WEBPACK_IMPORTED_MODULE_10__),ace_builds_src_noconflict_mode_xml__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(693),ace_builds_src_noconflict_mode_xml__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(ace_builds_src_noconflict_mode_xml__WEBPACK_IMPORTED_MODULE_11__),ace_builds_src_noconflict_theme_dracula__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(694),ace_builds_src_noconflict_theme_dracula__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(ace_builds_src_noconflict_theme_dracula__WEBPACK_IMPORTED_MODULE_12__),_App_css__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(695),_App_css__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_App_css__WEBPACK_IMPORTED_MODULE_13__),_rmlmapper__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(102),_util__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(258),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(3),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__),initialMapping="prefixes:\n  schema: \"http://schema.org/\"\n  myfunc: \"http://myfunc.com/\"\nmappings:\n  person:\n    sources:\n      - ['input~jsonpath', '$.persons[*]']\n    s: http://example.com/$(firstname)\n    po:\n      - [a, schema:Person]\n      - [schema:name, $(firstname)]\n      - [schema:language, $(speaks.*)]\n",initialInput='{\n  "persons": [\n      {\n          "firstname": "John",\n          "lastname": "Doe",\n          "speaks": [\n              "de",\n              "en"\n          ]\n      },\n      {\n          "firstname": "Jane",\n          "lastname": "Smith",\n          "speaks": [\n              "fr",\n              "es"\n          ]\n      }\n  ]\n}',initialFunctions="(() => {\n  // define your function namespace here:\n  const namespace = 'http://myfunc.com/';\n  \n  // your functions: (input is an array)\n  const toUpperCase = ([str]) => {\n    return str.toString().toUpperCase();\n  };\n  \n\n  // array of all functions you want to export\n  const functionToExport = [toUpperCase];\n\n  return functionToExport.reduce((acc, cur) => {acc[namespace + cur.name] = cur; return acc;}, {});\n})();\n",App=function App(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(initialMapping),_useState2=Object(_home_thibault_git_rml_editor_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_useState,2),mapping=_useState2[0],setMapping=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(initialInput),_useState4=Object(_home_thibault_git_rml_editor_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_useState3,2),input=_useState4[0],setInput=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(initialFunctions),_useState6=Object(_home_thibault_git_rml_editor_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_useState5,2),functions=_useState6[0],setFunctions=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(""),_useState8=Object(_home_thibault_git_rml_editor_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_useState7,2),output=_useState8[0],setOutput=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)("json"),_useState10=Object(_home_thibault_git_rml_editor_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_useState9,2),inputType=_useState10[0],setInputType=_useState10[1],_useState11=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)("json"),_useState12=Object(_home_thibault_git_rml_editor_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_useState11,2),outputType=_useState12[0],setOutputType=_useState12[1],_useState13=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)("yaml"),_useState14=Object(_home_thibault_git_rml_editor_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_useState13,2),rmlType=_useState14[0],setRmlType=_useState14[1],_useState15=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(!1),_useState16=Object(_home_thibault_git_rml_editor_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_useState15,2),runOnChange=_useState16[0],setRunOnChange=_useState16[1],_useState17=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(!1),_useState18=Object(_home_thibault_git_rml_editor_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_useState17,2),showFunctions=_useState18[0],setShowFunctions=_useState18[1],runMapping=function(){var _ref=Object(_home_thibault_git_rml_editor_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(_home_thibault_git_rml_editor_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee(){var mappingStr,result;return _home_thibault_git_rml_editor_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(console.time("time"),_context.prev=1,mappingStr=mapping,"yaml"!==rmlType){_context.next=7;break}return _context.next=6,Object(_rmlmapper__WEBPACK_IMPORTED_MODULE_14__.b)(mappingStr);case 6:mappingStr=_context.sent;case 7:return _context.next=9,Object(_rmlmapper__WEBPACK_IMPORTED_MODULE_14__.a)(mappingStr,input,{toRDF:"turtle"===outputType,replace:!0,compress:{"@vocab":"http://schema.org/"},functions:eval(functions)});case 9:result=_context.sent,setOutput("turtle"===outputType?result:JSON.stringify(result,null,2)),_context.next=17;break;case 13:_context.prev=13,_context.t0=_context.catch(1),console.log(_context.t0),setOutput(_context.t0.toString());case 17:console.timeEnd("time");case 18:case"end":return _context.stop()}}),_callee,null,[[1,13]])})));return function(){return _ref.apply(this,arguments)}}(),saveRML=function(){var _=Object(_home_thibault_git_rml_editor_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(_home_thibault_git_rml_editor_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _(){var e;return _home_thibault_git_rml_editor_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,Object(_rmlmapper__WEBPACK_IMPORTED_MODULE_14__.b)(mapping);case 2:e=_.sent,Object(_util__WEBPACK_IMPORTED_MODULE_15__.a)(e,"ttl","mapping_rml.ttl");case 4:case"end":return _.stop()}}),_)})));return function(){return _.apply(this,arguments)}}();runOnChange&&runMapping();var click=function(){return runMapping()};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"App",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("header",{className:"App-header",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("h1",{children:"Welcome to RMHell!!"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("button",{className:"button",onClick:click,children:"RUN"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"grid",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"width-auto",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("h3",{children:"Yarrml / RML-ttl"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(react_ace__WEBPACK_IMPORTED_MODULE_4___default.a,{fontSize:14,mode:rmlType,theme:"dracula",value:mapping,onChange:function(_){return setMapping(_)},name:"yarrrml",editorProps:{$blockScrolling:!0},showPrintMargin:!1,width:"auto"})]}),showFunctions&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"width-auto",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("h3",{children:"JS Functions"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(react_ace__WEBPACK_IMPORTED_MODULE_4___default.a,{fontSize:14,mode:"javascript",theme:"dracula",value:functions,onChange:function(_){return setFunctions(_)},name:"functions",editorProps:{$blockScrolling:!0},showPrintMargin:!1,width:"auto"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"width-auto",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("h3",{children:["Input(",".".concat(inputType),")"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(react_ace__WEBPACK_IMPORTED_MODULE_4___default.a,{fontSize:14,mode:inputType,theme:"dracula",value:input,onChange:function(_){return setInput(_)},name:"input",width:"auto",editorProps:{$blockScrolling:!0},showPrintMargin:!1})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"width-auto",style:showFunctions?{}:{gridColumn:"1 / 3"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("h3",{children:"Output"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(react_ace__WEBPACK_IMPORTED_MODULE_4___default.a,{fontSize:14,mode:outputType,theme:"dracula",value:output,name:"output",editorProps:{$blockScrolling:!0},width:"auto",readOnly:!0,showPrintMargin:!1})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"width-auto",style:{gridColumn:"1 / 3"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("h3",{children:"Settings"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("span",{className:"marginRight",children:["RML type:",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("select",{value:rmlType,onChange:function(_){return setRmlType(_.target.value)},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("option",{value:"yaml",children:"Yarrrml"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("option",{value:"turtle",children:"RML-turtle"})]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("span",{className:"marginRight",children:["Input type:",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("select",{value:inputType,onChange:function(_){return setInputType(_.target.value)},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("option",{value:"json",children:"JSON"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("option",{value:"xml",children:"XML"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("option",{value:"text",children:"CSV"})]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("span",{className:"marginRight",children:["Output type:",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("select",{value:outputType,onChange:function(_){return setOutputType(_.target.value)},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("option",{value:"json",children:"JSON-LD"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("option",{value:"turtle",children:"N-Tripples"})]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("span",{className:"marginRight",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("input",{type:"checkbox",name:"runMapperOnChange",checked:showFunctions,onChange:function(_){return setShowFunctions(!showFunctions)}})," Show functions"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("input",{type:"checkbox",name:"runMapperOnChange",checked:runOnChange,onChange:function(_){return setRunOnChange(!runOnChange)}})," Run mapper on change",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("br",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("button",{className:"button small",onClick:saveRML,children:"Download RML"})]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"footer"})]})})};__webpack_exports__.a=App},258:function(_,e,t){"use strict";t.d(e,"a",(function(){return n}));var n=function(_,e,t){var n=new Blob([_],{type:e}),r=document.createElement("a");r.download=t,r.href=URL.createObjectURL(n),r.dataset.downloadurl=[e,r.download,r.href].join(":"),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout((function(){URL.revokeObjectURL(r.href)}),1500)}},264:function(_,e,t){},695:function(_,e,t){},717:function(_,e){},719:function(_,e){},732:function(_,e){},751:function(_,e){},752:function(_,e){},802:function(_,e){},815:function(_,e){},817:function(_,e){}},[[1012,1,2]]]);
//# sourceMappingURL=main.fce690c3.chunk.js.map